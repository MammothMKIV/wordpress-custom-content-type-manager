#summary Customizing Manager HTML

With version 0.9.4, you can customize the HTML that appears in the !WordPress manager when displaying your custom fields.  The system here relies on formatting strings, similar in concept to those used by PHP's [http://php.net/manual/en/function.sprintf.php sprintf] function, but instead of using nondescript `%s` instances to denote where values will be placed, we instead use `[+placeholders+]` denoted with square brackets and plus signs.

<wiki:toc max_depth="2" />

= Overview =

Most custom fields use two formatting templates to generate the HTML that you see in the !WordPress manager when you edit or create a post.  The most common formatting templates are as follows:

 * *field* : the field tpl file formats the value and information
 * *wrapper* : the wrapper tpl wraps the field tpl (or field tpls)

Most often, the wrapper wraps only one instance of the field, but if your field is "repeatable" and can store multiple selections, then the wrapper will wrap multiple instances of the field.

http://s7.postimage.org/vg0t7txx7/custom_field_wrapping.jpg


= File Locations = 

To begin understanding this, have a look at the `custom-content-type-manager/tpls` directory ("tpls" here is short for "templates").  There is a series of sub-directories there, each one dedicated to formatting a different part of the CCTM's output.  

Note that filenames beginning with an underscore, e.g. *_image.tpl* are intended as a _special_ formatting template, used to format a _type_ of field.  


|| http://s2.postimage.org/by3ngezo/warning_icon.png || <font color="red">WARNING</font>: do not edit the files in the `custom-content-type-manager/tpls` directory.  Instead, copy the directory (or parts of it) to your `wp-content/uploads/cctm` directory.||

== Hierarchy ==

The basic idea of this file structure is that users can override the built-in templates contained in the `plugins` directory with their own files created in the `uploads` directory.  The user-created directory inside of `wp-content/uploads/cctm/tpls` is searched before the built-in directory inside of `custom-content-type-manager/tpls`; that way templates can be easily overridden by the user.

Most of the time, a specific file is given precedence over a generic one.  For example, a tpl file named after a specific field will be given precedence over a generic tpl for a _type_ of field.  If you have an image field named "my_image", then file `tpls/fields/elements/my_image.tpl` will be used to format all instances of that field, whereas another image field without a specific named tpl will default to the generic `tpls/fields/elements/_image.tpl` catchall.


=== tpls/fields/elements ===

This directory contains tpls used to format instances of a type of field, e.g. *_text.tpl*, *textarea.tpl*, *_dropdown.tpl*, etc.  These tpls are only used if there is no dedicated tpl for a given field inside of the *cctm/tpls/fields/elements* directory.   These are probably what you will want to customize the most.

For example, if you wanted _all_ WYSIWYG fields to use a particular bit of HTML and CSS, you can place a file named *_wysiwyg.tpl* inside the *cctm/tpls/fields/elements* directory and your user-created *_wysiwyg.tpl* file will be used to format all instances of WYSIWYG fields.


=== tpls/fields/wrappers ===

The wrapper tpls wrap field instances.  Usually a wrapper tpl will wrap multiple field instances (as in a "repeatable" field), but sometimes they wrap individual field instances too.  The wrapper tpl is usually where you will find Javascript controls or CSS divs that encapsulate all instances of a field.   

https://img.skitch.com/20111222-bhi4js41kbsqrqm4g5h888ipj1.jpg

In the example above, you can see how the wrapper tpl surrounds all instances of the field tpls: the buttons are contained in the wrapper tpl.

=== tpls/post_selector ===

The post-selector is what pops up in a thickbox when you select a relation, image, or media field.  The tpls inside this directory are used to format the results displayed in the thickbox search results.

=== tpls/samples ===

This is only used to generate sample !WordPress template files; you will probably never need to modify these formatting templates.


---------
= Fields =

== checkbox ==

|| http://s8.postimage.org/fglxaasn5/checkbox.png|| Checkbox fields use the 2 standard tpls: field and wrapper.||

==== Field tpl====

The first of following tpls found will be used to format the field:

 * fields/elements/{fieldname}.tpl
 * fields/elements/_checkbox.tpl
 * fields/elements/_default.tpl'

==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_checkbox.tpl
 * fields/wrappers/_default.tpl


Checkbox fields do not have a "repeatable" option, so there is not a separate set of "multi" tpls.

---------

== colorselector ==

||http://s9.postimage.org/la64smtfv/colorselector.png ||Color-Selector fields use the 2 standard tpls: field and wrapper.||


==== Field tpl====

The first of following tpls found will be used to format the field:

 * fields/elements/{fieldname}.tpl
 * fields/elements/_colorselector.tpl
 * fields/elements/_default.tpl'

==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_colorselector.tpl
 * fields/wrappers/_default.tpl

=== Multi ===

Colorselector fields can be repeatable.  If the "repeatable" option is checked, the following tpls are used to format the output:


==== Field tpl====

The first of following tpls found will be used to format the field:

 * fields/elements/{fieldname}.tpl
 * fields/elements/_colorselector_multi.tpl

==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_colorselector_multi.tpl





---------
== date ==

||http://s9.postimage.org/upm05ubgr/date.png||Date fields use the 2 standard tpls: field and wrapper.||


==== Field tpl====

The first of following tpls found will be used to format the field:

 * fields/elements/{fieldname}.tpl
 * fields/elements/_date.tpl
 * fields/elements/_default.tpl'

==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_date.tpl
 * fields/wrappers/_default.tpl

=== Multi ===

Date fields can be repeatable.  If the "repeatable" option is checked, the following tpls are used to format the output:


==== Field tpl====

The first of following tpls found will be used to format the field:

 * fields/elements/{fieldname}.tpl
 * fields/elements/_date_multi.tpl

==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_date_multi.tpl
 * fields/wrappers/_text_multi.tpl




---------
== dropdown ==

||http://s9.postimage.org/smg6bx11n/dropdown.png||Dropdown fields use 3 separate tpls: field, wrapper, and an "option" tpl, and they use different tpls depending on whether they are set to display as a dropdown or as a radio button.||

=== Regular Dropdown Format ===

==== Field tpl====

The first of following tpls found will be used to format the field:

 * fields/elements/{fieldname}.tpl
 * fields/elements/_dropdown.tpl
 * fields/elements/_default.tpl'

==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_dropdown.tpl
 * fields/wrappers/_default.tpl


==== Option tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/options/{fieldname}.tpl
 * fields/options/_option.tpl


=== Radio Button Format ===

==== Field tpl====

The first of following tpls found will be used to format the field:

 * fields/elements/{fieldname}.tpl
 * fields/elements/_radio.tpl
 * fields/elements/_default.tpl'

==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_radio.tpl
 * fields/wrappers/_default.tpl


==== Option tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/options/{fieldname}.tpl
 * fields/options/_radio.tpl



Dropdown fields do not have a "repeatable" option, so there is not a separate set of "multi" tpls.  Use a Multiselect field to achieve a "repeatable dropdown".



---------
== image ==

||http://s8.postimage.org/jqdm96etd/image.png||Image fields use the standard 2 tpls for field and wrapper.||

==== Field tpl====

The first of following tpls found will be used to format the field:

 * fields/elements/{fieldname}.tpl
 * fields/elements/_image.tpl
 * fields/elements/_default.tpl'

==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_image.tpl
 * fields/wrappers/_default.tpl

=== Multi ===

Image fields can be repeatable.  If the "repeatable" option is checked, the following tpls are used to format the output:


==== Field tpl====

The first of following tpls found will be used to format the field:

 * fields/elements/{fieldname}.tpl
 * fields/elements/_image_multi.tpl

==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_image_multi.tpl



---------
== media ==

||http://s10.postimage.org/4r95kqwpx/media.png||Media fields use the standard 2 tpls for field and wrapper.||

==== Field tpl====

The first of following tpls found will be used to format the field:

 * fields/elements/{fieldname}.tpl
 * fields/elements/_media.tpl
 * fields/elements/_default.tpl'

==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_media.tpl
 * fields/wrappers/_default.tpl

=== Multi ===

Image fields can be repeatable.  If the "repeatable" option is checked, the following tpls are used to format the output:


==== Field tpl====

The first of following tpls found will be used to format the field:

 * fields/elements/{fieldname}.tpl
 * fields/elements/_media_multi.tpl

==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_media_multi.tpl




---------
== multiselect ==


|| http://s8.postimage.org/hud1ssltt/multiselect.png || Multiselect fields use 2 separate tpls: the wrapper tpl and an "option" tpl.  These are the odd-duck of the group!||


==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_multiselect.tpl
 * fields/wrappers/_default.tpl


==== Option tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/options/{fieldname}.tpl
 * fields/options/_multiselect.tpl
 * fields/options/_checkbox.tpl




Multiselect fields do not have a "repeatable" option since they already allow you to store multiple values..




---------
== relation ==


||http://s12.postimage.org/bztgulut5/relation.png||Relation fields use the standard 2 tpls for field and wrapper.||

==== Field tpl====

The first of following tpls found will be used to format the field:

 * fields/elements/{fieldname}.tpl
 * fields/elements/_relation.tpl

==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_relation.tpl

=== Multi ===

Relations fields can be repeatable.  If the "repeatable" option is checked, the following tpls are used to format the output:


==== Field tpl====

The first of following tpls found will be used to format the field:

 * fields/elements/{fieldname}.tpl
 * fields/elements/_relation_multi.tpl

==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_relation_multi.tpl





---------
== text ==

||http://s12.postimage.org/o4dbpbx2x/text.png||Text fields use the standard 2 tpls for field and wrapper.||

==== Field tpl====

The first of following tpls found will be used to format the field:

 * fields/elements/{fieldname}.tpl
 * fields/elements/_text.tpl
 * fields/elements/_default.tpl

==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_text.tpl
 * fields/wrappers/_default.tpl

=== Multi ===

Text fields can be repeatable.  If the "repeatable" option is checked, the following tpls are used to format the output:


==== Field tpl====

The first of following tpls found will be used to format the field:

 * fields/elements/{fieldname}.tpl
 * fields/elements/_text_multi.tpl
 * fields/elements/_default.tpl

==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_text_multi.tpl
 * fields/wrappers/_default.tpl





---------
== textarea ==

||http://s9.postimage.org/d13g5peh7/textarea.png||Textarea fields use the standard 2 tpls for field and wrapper.||

==== Field tpl====

The first of following tpls found will be used to format the field:

 * fields/elements/{fieldname}.tpl
 * fields/elements/_textarea.tpl
 * fields/elements/_default.tpl

==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_textarea.tpl
 * fields/wrappers/_default.tpl

=== Multi ===

Textarea fields can be repeatable.  If the "repeatable" option is checked, the following tpls are used to format the output:


==== Field tpl====

The first of following tpls found will be used to format the field:

 * fields/elements/{fieldname}.tpl
 * fields/elements/_textarea_multi.tpl
 * fields/elements/_default.tpl

==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_textarea_multi.tpl
 * fields/wrappers/_default.tpl





---------
== wysiwyg ==

||http://s8.postimage.org/5q2dpjybl/wysiwyg.png||Textarea fields use the standard 2 tpls for field and wrapper.||

==== Field tpl====

The first of following tpls found will be used to format the field:

 * fields/elements/{fieldname}.tpl
 * fields/elements/_wysiwyg.tpl
 * fields/elements/_default.tpl

==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_wysiwyg.tpl
 * fields/wrappers/_default.tpl

=== Multi ===

Textarea fields can be repeatable.  If the "repeatable" option is checked, the following tpls are used to format the output:


==== Field tpl====

The first of following tpls found will be used to format the field:

 * fields/elements/{fieldname}.tpl
 * fields/elements/_wysiwyg_multi.tpl

==== Wrapper tpl ====

The first of the following tpls found will be used to wrap the output:

 * fields/wrappers/{fieldname}.tpl
 * fields/wrappers/_wysiwyg_multi.tpl